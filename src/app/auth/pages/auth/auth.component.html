<div class="auth">
  <div class="container auth-container">
    <div class="auth-field">
      <h2 class="auth-field__title">
        {{
          isLoginMode
            ? ('auth.login' | translate)
            : ('auth.register' | translate)
        }}
      </h2>
      <app-validation-error *ngIf="errorMessage$ | async"
        >* {{ errorMessage$ | async }}</app-validation-error
      >
      <form class="auth-form" [formGroup]="authForm" (ngSubmit)="onSubmit()">
        <fieldset class="auth-form__wrapper">
          <div>
            <app-input
              type="email"
              [placeholder]="'form.email' | translate"
              formControlName="email"
              [control]="authForm.get('email')">
            </app-input>
          </div>
          <div *ngIf="!isLoginMode">
            <app-input
              type="text"
              placeholder="{{ 'form.username' | translate }}"
              formControlName="username"
              [control]="authForm.get('username')">
            </app-input>
          </div>
          <div>
            <app-input
              type="password"
              [placeholder]="'form.password' | translate"
              formControlName="password"
              [control]="authForm.get('password')">
            </app-input>
          </div>
          <div *ngIf="!isLoginMode">
            <app-input
              type="password"
              [placeholder]="'form.confirmPassword' | translate"
              formControlName="confirmPassword"
              [control]="authForm.get('confirmPassword')">
            </app-input>
          </div>
          <div class="auth-form__buttons">
            <app-button
              type="button"
              classes="success-btn"
              (click)="onToggleAuthMode()"
              [text]="
                isLoginMode
                  ? ('auth.buttons.signUp' | translate)
                  : ('auth.buttons.login' | translate)
              ">
            </app-button>
            <app-button
              [text]="
                isLoginMode
                  ? ('auth.buttons.login' | translate)
                  : ('auth.buttons.signUp' | translate)
              ">
            </app-button>
          </div>
        </fieldset>
      </form>
    </div>
  </div>
</div>
